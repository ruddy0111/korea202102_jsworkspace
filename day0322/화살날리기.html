<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
</head>
<script src="../js/lib.js"></script>
<script>
    var arrow=[];
    var colorArray=["red", "orange", "yellow", "green", "blue", "navy", "purple"];
    var textArray=["♭","♩","♪","♬","◆","☆","★","◐","◑","○","●","◎","⊙","◈","◇","△","▲","▽","▼","□","■","◁","◀","▷","▶","◇","◆","♤","♠","♡","♥","♧","♣"];


//1회성이 아닌, 추후 두고두고 써먹을 코드 영역을 지정한 후, 거푸집으로 선언하자.
//전산에서는 이 코드 단위를 클래스라고 한다.
//ECMAScript(javascript 명칭)에서 class지원하기 시작.
//클래스 명은 자바, c#등에서 첫 철자를 대문자로 작성함이 약속.
class Arrow{//화살 자체가 아니라, 장차 화살을 만들어 낼 틀. 물건 자체가 아니다.
    //자바스크립트에서는 사물이 보유한 변수는 constructor()라는 함수 즉 생성자 함수 내에 작성해야 함.
    constructor(y, color,velX,text){
        this.span;
        this.velX=velX;//x좌표의 속도
        this.x=0;//span의 x좌표
        this.y=y
        this.color=color;
        this.text=text;
    }
    //사물이 보유한 함수를 가리켜, 그 사물의 동작 방식, 방법을 표현한다고 하여 메서드
    //Method
    init(){
        this.span = document.createElement("span");
        this.span.style.position="absolute";
        this.span.style.left=0+"px";
        this.span.style.top=this.y+"px";
        this.span.innerText=this.text;
        this.span.style.fontSize=20+"px";
        this.span.style.color=this.color;//색상 적용
        document.body.appendChild(this.span);
    }
    move(){
        this.x=this.x+this.velX;
        this.span.style.left=this.x+"px";
    }
}
function auto(){
    for(i=0;i<arrow.length;i++){//화살의 배열 수 만큼
        arrow[i].move();
    }
}
window.addEventListener("load",function(){
    //원하는 만큼 거푸집으로부터 화살을 생성해보자
    for(var i=0;i<100;i++){
    arrow[i]=new Arrow(
        i*10,
        colorArray[getRandom(colorArray.length)],getRandom(20)+1,
        textArray[getRandom(textArray.length)]
        ); //constructor()생성자 함수의 매개변수에 y값 전달

    arrow[i].init();
    }
    setInterval("auto()",100);
});
</script>
<body>
    
</body>
</html>